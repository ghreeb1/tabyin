# تقرير مشروع "تبيّن" (Tabayyun Project Report)

## 1. نظرة عامة على المشروع (Project Overview)
**اسم المشروع:** تبيّن (Tabayyun) - المساعد القانوني السعودي الذكي.

**وصف المشروع:**
"تبيّن" هو نظام ذكي متكامل يهدف إلى تبسيط الوصول إلى المعلومات القانونية والأنظمة السعودية للمواطنين والمقيمين. يعمل النظام كمساعد افتراضي (Chatbot) يتيح للمستخدمين طرح استفساراتهم صوتياً أو كتابياً، ويقوم بالرد عليها بمعلومات دقيقة وموثقة بناءً على الأنظمة السعودية. يتميز المشروع بدعمه الكامل للغة العربية ودمج تقنيات الذكاء الاصطناعي التوليدي مع معالجة الصوت المتقدمة لتقديم تجربة مستخدم سلسة وشبيهة بالتواصل البشري.

## 2. البيانات المستخدمة (Data Used)
نظراً لطبيعة المشروع التي تعتمد على النماذج اللغوية الكبيرة (LLMs)، تم التعامل مع البيانات بشكل مختلف عن الطرق التقليدية:

*   **نوع البيانات:** نصوص قانونية، لوائح تنظيمية، وإجراءات حكومية (مضمنة ضمن المعرفة المسبقة للنموذج).
*   **مصدر البيانات:** تم الاعتماد بشكل أساسي على **Google Gemini API** كمصدر معرفي، حيث يمتلك النموذج تدريباً مسبقاً واسعاً على المحتوى العربي والأنظمة العامة.
*   **حجم المعرفة:** قاعدة معرفية ضخمة تغطي كافة القطاعات الرئيسية (الأحوال المدنية، المرور، الجوازات، الجرائم المعلوماتية).

## 3. الحصول على البيانات واستخدامها (Data Acquisition & Utilization)
بدلاً من بناء قاعدة بيانات يدوية من الصفر، تم توظيف قدرات الذكاء الاصطناعي عبر الخطوات التالية:
1.  **الاستفادة من المعرفة المسبقة:** الاعتماد على تدريب Gemini Flash للإجابة على الأسئلة العامة.
2.  **الهندسة العكسية للمخرجات (Prompt Engineering):** تمت صياغة "موجهات نظام" (System Prompts) دقيقة في الكود البرمجي (`app.py`) لتوجيه النموذج لتقمص دور "مساعد قانوني سعودي"، مع فرض قيود صارمة لضمان دقة الإجابة وعدم تقديم فتاوى شخصية.
3.  **المعالجة الفورية:** البيانات لا تخزن بل يتم توليدها ومعالجتها لحظياً بناءً على سياق سؤال المستخدم.

## 4. التقنيات والأدوات المستخدمة (Technologies & Tools Used)
تم بناء المشروع باستخدام مجموعة حديثة من التقنيات لضمان الأداء والسهولة:

**الواجهة الخلفية (Backend):**
*   **Python:** لغة البرمجة الأساسية للمشروع.
*   **Flask:** إطار عمل خفيف وسريع لبناء تطبيق الويب والـ API.
*   **SQLite:** قاعدة بيانات خفيفة لإدارة حسابات المستخدمين وتسجيل الدخول.

**الذكاء الاصطناعي (AI & ML):**
*   **Google Gemini 1.5 Flash:** النموذج اللغوي الرئيسي لفهم الأسئلة وتوليد الإجابات الذكية.
*   **Faster-Whisper:** نموذج مفتوح المصدر لتحويل الكلام إلى نص (Speech-to-Text) يعمل محلياً بدقة عالية ودعم للهجات.
*   **gTTS (Google Text-to-Speech):** لتحويل الإجابات النصية إلى صوت مسموع.

**معالجة الصوت (Audio Processing):**
*   **PyDub & SoundFile:** مكتبات برمجية لمعالجة الملفات الصوتية قبل إرسالها للنماذج.
*   **NumPy:** للعمليات الحسابية السريعة على مصفوفات الصوت.

## 5. عملية التطوير والنمذجة (Modeling & Development Process)
تم تطوير النظام عبر مراحل متسلسلة:
1.  **بناء الهيكل الأساسي:** إعداد خادم Flask وربطه بقاعدة بيانات المستخدمين.
2.  **دمج نموذج اللغة:** تكوين اتصال آمن مع Gemini API وبرمجة سياق النظام (System Context) لضبط نبرة ودقة الإجابات.
3.  **تطوير نظام الصوت:**
    *   دمج مكتبة `Faster-Whisper` لتعمل محلياً (Offline) لضمان الخصوصية والسرعة في تحويل الصوت إلى نص.
    *   تحسين سرعة الرد الصوتي (TTS) وتسريعه بنسبة 1.3x ليكون الاستماع طبيعياً وغير ممل.
4.  **تصميم الواجهة:** بناء واجهات HTML/CSS تدعم الكتابة من اليمين لليسار (RTL) وتتجاوب مع جميع الأجهزة.

## 6. الاختبار والتقييم (Testing & Evaluation)
*   **اختبار دقة الإجابات:** تم اختبار النظام بأسئلة حقيقية في قطاعات المرور والجوازات للتأكد من صحة المعلومات.
*   **اختبار الصوت:** التحقق من قدرة النموذج على فهم اللهجة السعودية وتحويلها لنص صحيح، وكانت النتائج مبشرة جداً.
*   **الأداء:** زمن الاستجابة (Latency) كان التحدي الأكبر، وتم تحسينه عبر تشغيل الـ Transcriber محلياً واستخدام نموذج Gemini Flash السريع.

## 7. الديمو والوسائط (Demo & Media)
يحتوي النظام على:
*   **واجهة محادثة:** تدعم التبديل بين الكتابة والصوت.
*   **تسجيل دخول:** نظام كامل للزوار والأعضاء.
*   **صفحة بروفايل:** لإدارة معلومات المستخدم.

## 8. التحديات والمخاطر (Challenges & Risks)
1.  **زمن الاستجابة (Latency):** التأخير الطبيعي في معالجة الصوت ثم إرساله للـ AI ثم تحويل الرد لصوت مرة أخرى. تم التغلب عليه جزئياً باستخدام نماذج أسرع (Flash).
2.  **دقة المعلومات القانونية:** خطر تقديم النموذج لمعلومة قديمة. تم وضع تنويه إخلاء مسؤولية وبرمجة النموذج ليكون حذراً.
3.  **الاعتماد على الإنترنت:** ميزات الـ AI تتطلب اتصالاً مستمراً بالإنترنت (للـ Gemini API).

## 9. الدعم المطلوب (Support Required)
*   **بيانات قانونية محدثة:** الوصول لـ API رسمي من وزارة العدل أو هيئة الخبراء لربطه بالنظام (RAG) بدلاً من الاعتماد الكلي على ذاكرة النموذج.
*   **عتاد أقوى (Hardware):** خوادم GPU لتشغيل نماذج صوتية أكبر وأدق محلياً.

## 10. الخطط المستقبلية (Future Roadmap)
**التقدم الحالي:** تم إنجاز النسخة الأولية (MVP) بنسبة 100% مع كافة الميزات الأساسية.

**خطة الأسبوعين القادمين:**
*   تحسين واجهة المستخدم (UI Polish) لتوحيد التصاميم.
*   إضافة ميزة "سجل المحادثات" ليتمكن المستخدم من الرجوع لأسئلته السابقة.

**التحسينات المستقبلية:**
*   **تطبيق الجوال:** تحويل المشروع لتطبيق Native (Android/iOS).
*   **نظام RAG المتطور:** ربط النظام بقاعدة بيانات ChromaDB تحتوي على كافة اللوائح السعودية المحدثة لتقليل نسبة الخطأ (Hallucinations).
*   **المحادثة المستمرة:** دعم المقاطعة في الكلام (Full Duplex Voice).
